webpackJsonp([7],{"./frontend/app/security/pages/Login/Login.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-helmet/lib/Helmet.js"),s=n.n(a),i=(n("./node_modules/redux/es/index.js"),n("./node_modules/react-redux/es/index.js"),n("./node_modules/redux-form/es/reduxForm.js"),n("./node_modules/query-string/index.js")),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./node_modules/react-intl/lib/index.js"),l=Object(d.c)({submitTitle:{id:"app.security.Login.Submit.title",defaultMessage:"Login"},submittingTitle:{id:"app.security.Login.Submit.progress",defaultMessage:"Logging in..."},fieldUsername:{id:"app.security.Login.Field.username",defaultMessage:"Email or Username"},fieldPassword:{id:"app.security.Login.Field.password",defaultMessage:"Password"},forgotPassword:{id:"app.security.Login.forgotPassword",defaultMessage:"Forgot password?"}}),c=n("./frontend/app/security/routes.js"),m=n("./node_modules/formik/dist/formik.esm.js"),p=n("./frontend/app/utils/hooks/index.js"),f=n("./frontend/app/components/FormB/index.js"),g=(n("./node_modules/yup/es/index.js"),n("./frontend/app/security/actions.js")),b=n("./node_modules/@material-ui/core/esm/index.js"),j=n("./frontend/app/components/Nav/index.js");n("./frontend/app/utils/async/index.js");function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var x=Object(u.c)(b.Grid).withConfig({displayName:"Login__Container",componentId:"sc-1wu9cjy-0"})(["padding:15px 20px;"]),O=Object(u.c)(b.Button).withConfig({displayName:"Login__SubmitButton",componentId:"sc-1wu9cjy-1"})(["width:100%;"]),w=Object(u.c)(function(e){return o.a.createElement(j.a,e)}).withConfig({displayName:"Login__SupportLink",componentId:"sc-1wu9cjy-2"})(["font-size:0.75rem;line-height:38px;"]);t.default=function(e){e.error,e.handleSubmit,e.submitting,e.pristine;var t=y(e,["error","handleSubmit","submitting","pristine"]);Object(p.k)(n("./frontend/app/security/sagas/login.js"));var r=Object(d.e)(),a=Object(p.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,null,o.a.createElement("title",null,"Login")),o.a.createElement(m.e,{initialValues:{redirect:Object(i.parse)(t.location.search).next||"/",email:null,password:null,_error:""},onSubmit:a(g.c)},function(e){var t=e.isSubmitting,n=e.dirty;return e.errors,y(e,["isSubmitting","dirty","errors"]),o.a.createElement(m.d,null,o.a.createElement(x,{container:!0,spacing:3},o.a.createElement(b.Grid,{item:!0,xs:12},o.a.createElement(m.b,{name:"email",component:f.e,fullWidth:!0,color:"primary",label:r.formatMessage(l.fieldUsername),autoFocus:!0}),o.a.createElement(m.a,{name:"_error"},function(e){return o.a.createElement(b.FormHelperText,{error:!0},e)})),o.a.createElement(b.Grid,{item:!0,xs:12},o.a.createElement(m.b,{name:"password",component:f.e,fullWidth:!0,color:"primary",label:r.formatMessage(l.fieldPassword)}),o.a.createElement("div",null,o.a.createElement(w,{to:c.a.ForgotPassword,routeMap:c.b},o.a.createElement(d.a,l.forgotPassword)))),o.a.createElement(b.Grid,{item:!0,xs:12},o.a.createElement(O,{type:"submit",disabled:!n||t,variant:"contained",color:"primary"},r.formatMessage(t?l.submittingTitle:l.submitTitle)))))}))}},"./frontend/app/security/sagas/login.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"KEY",function(){return l}),n.d(t,"loginSaga",function(){return c});var r=n("./node_modules/redux-saga/es/effects.js"),o=n("./node_modules/connected-react-router/esm/index.js"),a=n("./frontend/app/farmApp/routes.js"),s=n("./frontend/app/sagas.js"),i=n("./frontend/app/security/actions.js"),u=n("./frontend/app/security/api.js");function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l="login",c=Object(s.a)(i.c,regeneratorRuntime.mark(function e(t){var n,s,l,c,m,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.b[a.a.DashboardOverview].toPath(),s=t.redirect,l=void 0===s?n:s,c=d(t,["redirect"]),console.debug("payload: ",c),!1,e.next=6,Object(r.a)(u.a.login,c);case 6:return m=e.sent,p=m.token,f=m.user,e.next=11,Object(r.b)(i.c.success({token:p,user:f}));case 11:return e.next=13,Object(r.b)(Object(o.e)(l));case 13:case"end":return e.stop()}},e)}));t.default=function(){return[Object(r.g)(i.c.TRIGGER,c)]}}});